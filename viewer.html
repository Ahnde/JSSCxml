<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>JSSCxml viewer</title>
	
	<script src="xhr.js"></script>
	<script src="structures.js"></script>
	<script src="delays.js"></script>
	<script src="SCxml.js"></script>
	<script src="SCxmlDebug.js"></script>
	<script src="SCxmlProcessors.js"></script>
	<script src="SCxmlDatamodel.js"></script>
	<script src="SCxmlEvent.js"></script>
	<script src="SCxmlExecute.js"></script>
	<script src="SCxmlInvoke.js"></script>
	<script src="SCxmlFetch.js"></script>
	<script src="SCxmlConnect.js"></script>
	
	<link rel="stylesheet" href="viewer.css">
</head>
<body>

<section id="editor"><header>
	<h2>Editor</h2>
	<input name="parse" type="button" value="Parse"> or <input name="load" type="button" value="Load source"> from <input name="src" placeholder="http://" type="url" value="w3c_tests/test405.scxml">
</header>

<textarea cols="80"><scxml xmlns="http://www.w3.org/2005/07/scxml">
</scxml></textarea>
</section>



<section id="viewer"><header><h2>Viewer</h2>
	<input name="run" type="button" value="Run" disabled>
	<input name="pause" type="button" value="Pause" disabled>
	<label>autoresume: <input name="speed" type="range" min="500" max="5000" value="1000"></label> (max = no autoresume)
</header>

<table><tbody><tr>
<td class="queue"><h3>internal queue</h3>
	<ol id="internal"></ol>
	<form name="queueInt">
	<input type="text" name="ename" placeholder="event.name">
	<input type="submit" value="send" disabled>
	</form>
</td>
<td class="queue"><h3>external queue</h3>
	<ol id="external"></ol>
	<form name="queueExt">
	<input type="text" name="ename" placeholder="event.name">
	<input type="text" name="data" placeholder="{&quot;data&quot;:value}">
	<input type="submit" value="send" disabled>
	</form>
</td>
<td><svg xmlns="http://www.w3.org/2000/svg" version="1.1">
	<defs><marker id="arrow" viewBox="0 0 10 10" refX="1" refY="5" 
	  markerUnits="strokeWidth" orient="auto"
	  markerWidth="6" markerHeight="4.5">
	  <polyline points="0,0 10,5 0,10 1,5" />
	</marker></defs>
</svg>

<div class="scxml"></div></td>
</tr></tbody></table>

</section>

<script>

UI={
	parse:document.querySelector("input[name=parse]"),
	load:document.querySelector("input[name=load]"),
	src:document.querySelector("input[name=src]"),
	run:document.querySelector("input[name=run]"),
	pause:document.querySelector("input[name=pause]"),
	speed:document.querySelector("input[name=speed]"),
	
	view:document.getElementById("viewer"),
	intQ:document.getElementById("internal"),
	extQ:document.getElementById("external"),
	
	arrows:document.getElementsByTagName("svg")[0]
}

sc=null

</script>
<script src="viewer-functions.js"></script>
<script src="viewer-listeners.js"></script>

</body>
</html>