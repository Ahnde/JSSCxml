<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>JSSCxml editor</title>
	
	<script src="xhr.js"></script>
	<script src="structures.js"></script>
	<script src="delays.js"></script>
	<script src="SCxml.js"></script>
	<script src="SCxmlMutation.js"></script>
	<script src="SCxmlDebug.js"></script>
	<script src="SCxmlProcessors.js"></script>
	<script src="SCxmlDatamodel.js"></script>
	<script src="SCxmlEvent.js"></script>
	<script src="SCxmlExecute.js"></script>
	<script src="SCxmlInvoke.js"></script>
	<script src="SCxmlFetch.js"></script>
	<script src="SCxmlConnect.js"></script>
	
	<link rel="stylesheet" href="SCxmlView.css">
</head>
<body>

<section id="editor"><header>
	<h2>SCXML Editor</h2>
	<input name="load" type="button" value="Load source"> from <input name="src" placeholder="http://" type="url" value="w3c_tests/test405.scxml">
</header>

</section>

<script>

UI={
	code:document.getElementsByTagName("textarea")[0],
	parse:document.querySelector("input[name=parse]"),
	load:document.querySelector("input[name=load]"),
	src:document.querySelector("input[name=src]"),
	
	view:document.getElementById("editor")
}

sc=null

UI.load.onclick=function(e)
{
	if(sc){ sc.html.removeChild(sc.view.ui); sc.clean() }
	var tag=UI.view.appendChild(document.createElement("scxml"))
	tag.setAttribute("debug", true)
	sc=new SCxml(UI.src.value, tag, null)
	new SCxml.View(sc)
	sc.autoPauseBefore=SCxml.ALL_EVENTS
}


</script>

</body>
</html>